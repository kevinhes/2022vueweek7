(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5daa8ebb"],{"00b4":function(t,e,a){"use strict";a("ac1f");var n=a("23e7"),c=a("da84"),r=a("c65b"),o=a("e330"),s=a("1626"),i=a("861d"),l=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),u=c.Error,d=o(/./.test);n({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=this.exec;if(!s(e))return d(this,t);var a=r(e,this,t);if(null!==a&&!i(a))throw new u("RegExp exec method returned something other than an Object or null");return!!a}})},"0b42":function(t,e,a){var n=a("da84"),c=a("e8b5"),r=a("68ee"),o=a("861d"),s=a("b622"),i=s("species"),l=n.Array;t.exports=function(t){var e;return c(t)&&(e=t.constructor,r(e)&&(e===l||c(e.prototype))?e=void 0:o(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?l:e}},"107c":function(t,e,a){var n=a("d039"),c=a("da84"),r=c.RegExp;t.exports=n((function(){var t=r("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},1961:function(t,e,a){"use strict";a.r(e);var n=a("7a23"),c={class:"container"};function r(t,e,a,r,o,s){var i=Object(n["F"])("CartList"),l=Object(n["F"])("Validate");return Object(n["x"])(),Object(n["f"])("div",c,[Object(n["i"])(i,{"carts-data":o.cartsData,onGetCarts:s.getCartsData},null,8,["carts-data","onGetCarts"]),Object(n["i"])(l)])}a("99af");var o=Object(n["g"])("h1",null,"購物車",-1),s={class:"text-end"},i={class:"table align-middle"},l=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th"),Object(n["g"])("th",null,"品名"),Object(n["g"])("th",{style:{width:"150px"}},"數量/單位"),Object(n["g"])("th",null,"單價")])],-1),u=["onClick"],d=Object(n["g"])("i",{class:"fas fa-spinner fa-pulse"},null,-1),b=Object(n["h"])(" x "),f=[d,b],p={class:"input-group input-group-sm"},g={class:"input-group mb-3"},m=["onUpdate:modelValue","onChange"],h={class:"input-group-text",id:"basic-addon2"},v={class:"text-end"},O=Object(n["g"])("td",{colspan:"3",class:"text-end"},"總計",-1),j={class:"text-end"};function x(t,e,a,c,r,d){return Object(n["x"])(),Object(n["f"])(n["a"],null,[o,Object(n["g"])("div",s,[Object(n["g"])("button",{class:Object(n["q"])(["btn btn-outline-danger",{disabled:!0===r.isLoading}]),type:"button",onClick:e[0]||(e[0]=function(){return d.delAllCarts&&d.delAllCarts.apply(d,arguments)})},"清空購物車",2)]),Object(n["g"])("table",i,[l,Object(n["g"])("tbody",null,[a.cartsData.carts?(Object(n["x"])(!0),Object(n["f"])(n["a"],{key:0},Object(n["E"])(a.cartsData.carts,(function(t){return Object(n["x"])(),Object(n["f"])("tr",{key:t.id},[Object(n["g"])("td",null,[Object(n["g"])("button",{type:"button",class:Object(n["q"])(["btn btn-outline-danger btn-sm",{disabled:!0===r.isLoading}]),onClick:function(e){return d.delCartItem(t.id)}},f,10,u)]),Object(n["g"])("td",null,Object(n["I"])(t.product.title),1),Object(n["g"])("td",null,[Object(n["g"])("div",p,[Object(n["g"])("div",g,[Object(n["R"])(Object(n["g"])("input",{min:"1",type:"number",class:"form-control","onUpdate:modelValue":function(e){return t.qty=e},onChange:function(e){return d.updateCartNum(t.id,t.product.id,t.qty)}},null,40,m),[[n["M"],t.qty]]),Object(n["g"])("span",h,Object(n["I"])(t.product.unit),1)])])]),Object(n["g"])("td",v,Object(n["I"])(t.final_total),1)])})),128)):Object(n["e"])("",!0)]),Object(n["g"])("tfoot",null,[Object(n["g"])("tr",null,[O,Object(n["g"])("td",j,Object(n["I"])(a.cartsData.final_total),1)])])])],64)}var y={data:function(){return{isLoading:!1}},props:["cartsData"],methods:{delAllCarts:function(){var t=this;this.isLoading=!0,this.$http.delete("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kevinhesapi","/carts")).then((function(e){alert(e.data.message),t.isLoading=!1,t.$emit("get-carts")})).catch((function(t){console.log(t)}))},delCartItem:function(t){var e=this;this.isLoading=!0,this.$http.delete("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kevinhesapi","/cart/").concat(t)).then((function(t){alert(t.data.message),e.isLoading=!1,e.$emit("get-carts")})).catch((function(t){console.log(t)}))},updateCartNum:function(t,e,a){var n=this,c={data:{product_id:e,qty:a}};this.$http.put("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kevinhesapi","/cart/").concat(t),c).then((function(t){alert(t.data.message),n.$emit("get-carts")})).catch((function(t){console.log(t)}))}}},I=a("6b0d"),C=a.n(I);const E=C()(y,[["render",x]]);var k=E,w=(a("b0c0"),{class:"my-5 row justify-content-center"}),V={class:"mb-3"},R=Object(n["g"])("label",{for:"email",class:"form-label"},"Email",-1),S={class:"mb-3"},q=Object(n["g"])("label",{for:"name",class:"form-label"},"收件人姓名",-1),A={class:"mb-3"},D=Object(n["g"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),$={class:"mb-3"},L=Object(n["g"])("label",{for:"address",class:"form-label"},"收件人地址",-1),U={class:"mb-3"},F=Object(n["g"])("label",{for:"message",class:"form-label"},"留言",-1),_=Object(n["g"])("div",{class:"text-end"},[Object(n["g"])("button",{type:"submit",class:"btn btn-danger"},"送出訂單")],-1);function T(t,e,a,c,r,o){var s=Object(n["F"])("Field"),i=Object(n["F"])("error-message"),l=Object(n["F"])("Form");return Object(n["x"])(),Object(n["f"])("div",w,[Object(n["i"])(l,{ref:"form",class:"col-md-6",onSubmit:o.onSubmit},{default:Object(n["Q"])((function(t){var a=t.errors;return[Object(n["g"])("div",V,[R,Object(n["i"])(s,{id:"email",name:"email",type:"email",class:Object(n["q"])(["form-control",{"is-invalid":a["email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:r.userInfo.data.user.email,"onUpdate:modelValue":e[0]||(e[0]=function(t){return r.userInfo.data.user.email=t})},null,8,["class","modelValue"]),Object(n["i"])(i,{name:"email",class:"invalid-feedback"})]),Object(n["g"])("div",S,[q,Object(n["i"])(s,{id:"name",name:"姓名",type:"text",class:Object(n["q"])(["form-control",{"is-invalid":a["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:r.userInfo.data.user.name,"onUpdate:modelValue":e[1]||(e[1]=function(t){return r.userInfo.data.user.name=t})},null,8,["class","modelValue"]),Object(n["i"])(i,{name:"姓名",class:"invalid-feedback"})]),Object(n["g"])("div",A,[D,Object(n["i"])(s,{id:"tel",name:"電話",type:"text",class:Object(n["q"])(["form-control",{"is-invalid":a["電話"]}]),placeholder:"請輸入電話",rules:o.isPhone,modelValue:r.userInfo.data.user.tel,"onUpdate:modelValue":e[2]||(e[2]=function(t){return r.userInfo.data.user.tel=t})},null,8,["class","rules","modelValue"]),Object(n["i"])(i,{name:"電話",class:"invalid-feedback"})]),Object(n["g"])("div",$,[L,Object(n["i"])(s,{id:"address",name:"地址",type:"text",class:Object(n["q"])(["form-control",{"is-invalid":a["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:r.userInfo.data.user.address,"onUpdate:modelValue":e[3]||(e[3]=function(t){return r.userInfo.data.user.address=t})},null,8,["class","modelValue"]),Object(n["i"])(i,{name:"地址",class:"invalid-feedback"})]),Object(n["g"])("div",U,[F,Object(n["R"])(Object(n["g"])("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":e[4]||(e[4]=function(t){return r.userInfo.data.message=t})},null,512),[[n["M"],r.userInfo.data.message]])]),_]})),_:1},8,["onSubmit"])])}a("ac1f"),a("00b4");var N={data:function(){return{userInfo:{data:{user:{name:"",email:"",tel:"",address:""},message:""}}}},methods:{isPhone:function(t){var e=/^(09)[0-9]{8}$/;return!!e.test(t)||"需要正確的電話號碼"},onSubmit:function(){this.$http.post("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kevinhesapi","/order"),this.userInfo).then((function(t){alert(t.data.message)})).catch((function(t){console.dir(t)}))}}};const M=C()(N,[["render",T]]);var P=M,B={data:function(){return{cartsData:{}}},components:{CartList:k,Validate:P},methods:{getCartsData:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kevinhesapi","/cart")).then((function(e){t.cartsData=e.data.data})).catch((function(t){console.log(t)}))}},mounted:function(){this.getCartsData()}};const K=C()(B,[["render",r]]);e["default"]=K},"1dde":function(t,e,a){var n=a("d039"),c=a("b622"),r=a("2d00"),o=c("species");t.exports=function(t){return r>=51||!n((function(){var e=[],a=e.constructor={};return a[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,a){var n=a("0b42");t.exports=function(t,e){return new(n(t))(0===e?0:e)}},8418:function(t,e,a){"use strict";var n=a("a04b"),c=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var o=n(e);o in t?c.f(t,o,r(0,a)):t[o]=a}},9263:function(t,e,a){"use strict";var n=a("c65b"),c=a("e330"),r=a("577e"),o=a("ad6d"),s=a("9f7f"),i=a("5692"),l=a("7c73"),u=a("69f3").get,d=a("fce3"),b=a("107c"),f=i("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,g=p,m=c("".charAt),h=c("".indexOf),v=c("".replace),O=c("".slice),j=function(){var t=/a/,e=/b*/g;return n(p,t,"a"),n(p,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),x=s.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],I=j||y||x||d||b;I&&(g=function(t){var e,a,c,s,i,d,b,I=this,C=u(I),E=r(t),k=C.raw;if(k)return k.lastIndex=I.lastIndex,e=n(g,k,E),I.lastIndex=k.lastIndex,e;var w=C.groups,V=x&&I.sticky,R=n(o,I),S=I.source,q=0,A=E;if(V&&(R=v(R,"y",""),-1===h(R,"g")&&(R+="g"),A=O(E,I.lastIndex),I.lastIndex>0&&(!I.multiline||I.multiline&&"\n"!==m(E,I.lastIndex-1))&&(S="(?: "+S+")",A=" "+A,q++),a=new RegExp("^(?:"+S+")",R)),y&&(a=new RegExp("^"+S+"$(?!\\s)",R)),j&&(c=I.lastIndex),s=n(p,V?a:I,A),V?s?(s.input=O(s.input,q),s[0]=O(s[0],q),s.index=I.lastIndex,I.lastIndex+=s[0].length):I.lastIndex=0:j&&s&&(I.lastIndex=I.global?s.index+s[0].length:c),y&&s&&s.length>1&&n(f,s[0],a,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(s[i]=void 0)})),s&&w)for(s.groups=d=l(null),i=0;i<w.length;i++)b=w[i],d[b[0]]=s[b[1]];return s}),t.exports=g},"99af":function(t,e,a){"use strict";var n=a("23e7"),c=a("da84"),r=a("d039"),o=a("e8b5"),s=a("861d"),i=a("7b0b"),l=a("07fa"),u=a("8418"),d=a("65f0"),b=a("1dde"),f=a("b622"),p=a("2d00"),g=f("isConcatSpreadable"),m=9007199254740991,h="Maximum allowed index exceeded",v=c.TypeError,O=p>=51||!r((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),j=b("concat"),x=function(t){if(!s(t))return!1;var e=t[g];return void 0!==e?!!e:o(t)},y=!O||!j;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,a,n,c,r,o=i(this),s=d(o,0),b=0;for(e=-1,n=arguments.length;e<n;e++)if(r=-1===e?o:arguments[e],x(r)){if(c=l(r),b+c>m)throw v(h);for(a=0;a<c;a++,b++)a in r&&u(s,b,r[a])}else{if(b>=m)throw v(h);u(s,b++,r)}return s.length=b,s}})},"9f7f":function(t,e,a){var n=a("d039"),c=a("da84"),r=c.RegExp,o=n((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),s=o||n((function(){return!r("a","y").sticky})),i=o||n((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:i,MISSED_STICKY:s,UNSUPPORTED_Y:o}},ac1f:function(t,e,a){"use strict";var n=a("23e7"),c=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},ad6d:function(t,e,a){"use strict";var n=a("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,a){var n=a("83ab"),c=a("5e77").EXISTS,r=a("e330"),o=a("9bf2").f,s=Function.prototype,i=r(s.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=r(l.exec),d="name";n&&!c&&o(s,d,{configurable:!0,get:function(){try{return u(l,i(this))[1]}catch(t){return""}}})},e8b5:function(t,e,a){var n=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},fce3:function(t,e,a){var n=a("d039"),c=a("da84"),r=c.RegExp;t.exports=n((function(){var t=r(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))}}]);
//# sourceMappingURL=chunk-5daa8ebb.2ec914ee.js.map